{% extends "base.html" %}

{% block content %}
<div class="fade-in">
    <!-- Hero Section -->
    <section class="content-block">
        <h1>{{ t(g, "–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ BRAMA-UAe.V2025!", "Willkommen bei BRAMA-UAe.V2025!") }}</h1>
        <p class="lead">
            {{ t(g, 
               "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π e.V. –∑ –ø—Ä–æ–∑–æ—Ä–∏–º —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º, –¥–µ–º–æ–∫—Ä–∞—Ç–∏—á–Ω–∏–º–∏ –ø—Ä–æ—Ü–µ—Å–∞–º–∏ —Ç–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º–∏ —Ñ—ñ–Ω–∞–Ω—Å–∞–º–∏. –ù–∞—à–∞ –º–µ—Ç–∞ - –∑–≥—É—Ä—Ç—É–≤–∞—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É —Å–ø—ñ–ª—å–Ω–æ—Ç—É –≤ –ù—ñ–º–µ—á—á–∏–Ω—ñ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤–∞–∂–ª–∏–≤—ñ –ø—Ä–æ—î–∫—Ç–∏.",
               "Ukrainischer e.V. mit transparenter Verwaltung, demokratischen Prozessen und offenen Finanzen. Unser Ziel ist es, die ukrainische Gemeinschaft in Deutschland zu vereinen und wichtige Projekte zu unterst√ºtzen."
            ) }}
        </p>
        
        {% if not current_user.is_authenticated %}
        <div style="margin-top: 2rem;">
            <a href="{{ url_for('auth.register') }}" class="btn btn-primary">
                {{ t(g, "–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ —Å–ø—ñ–ª—å–Ω–æ—Ç–∏", "Der Gemeinschaft beitreten") }}
            </a>
            <a href="{{ url_for('auth.login') }}" class="btn btn-outline-primary" style="margin-left: 1rem; border: 2px solid var(--primary-color); background: transparent; color: var(--primary-color);">
                {{ t(g, "–í—Ö—ñ–¥ –¥–ª—è —É—á–∞—Å–Ω–∏–∫—ñ–≤", "Mitglieder-Login") }}
            </a>
        </div>
        {% endif %}
    </section>

    <!-- Content Blocks -->
    {% for block in blocks %}
    <section class="content-block slide-up">
        <h2>{{ block.title_uk if g.lang == 'uk' else block.title_de }}</h2>
        
        {% if block.block_type == 'info' %}
            <div class="info-content">
                {{ (block.body_uk if g.lang == 'uk' else block.body_de)|safe }}
            </div>
        
        {% elif block.block_type == 'gallery' %}
            <div class="gallery">
                {% for image in block.images %}
                <div class="gallery-item">
                    <img src="{{ url_for('admin.image_raw', iid=image.id) }}" 
                         alt="{{ image.caption_uk if g.lang == 'uk' else image.caption_de }}"
                         loading="lazy">
                    {% if image.caption_uk or image.caption_de %}
                    <div class="gallery-caption">
                        {{ image.caption_uk if g.lang == 'uk' else image.caption_de }}
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            
        {% elif block.block_type == 'projects' %}
            <div class="projects-preview">
                <p>{{ (block.body_uk if g.lang == 'uk' else block.body_de)|safe }}</p>
                {% if current_user.is_authenticated %}
                <a href="{{ url_for('dashboard.home') }}" class="btn btn-primary">
                    {{ t(g, "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –ø—Ä–æ—î–∫—Ç–∏", "Alle Projekte anzeigen") }}
                </a>
                {% endif %}
            </div>
        {% endif %}
    </section>
    {% endfor %}

    <!-- Default content if no blocks exist -->
    {% if not blocks %}
    <section class="content-block">
        <h2>{{ t(g, "–ü—Ä–æ –Ω–∞—Å", "√úber uns") }}</h2>
        <p>
            {{ t(g,
               "BRAMA-UAe - —Ü–µ —Å—É—á–∞—Å–Ω–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π e.V. —É –ù—ñ–º–µ—á—á–∏–Ω—ñ, —â–æ –ø—Ä–∞—Ü—é—î –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –ø—Ä–æ–∑–æ—Ä–æ—Å—Ç—ñ, –¥–µ–º–æ–∫—Ä–∞—Ç—ñ—ó —Ç–∞ –≤–∑–∞—î–º–æ–¥–æ–ø–æ–º–æ–≥–∏. –ú–∏ –æ–±'—î–¥–Ω—É—î–º–æ —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–ø—ñ–ª—å–Ω–∏—Ö –ø—Ä–æ—î–∫—Ç—ñ–≤ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –æ–¥–∏–Ω –æ–¥–Ω–æ–≥–æ.",
               "BRAMA-UAe ist ein moderner ukrainischer e.V. in Deutschland, der nach den Prinzipien von Transparenz, Demokratie und gegenseitiger Hilfe arbeitet. Wir vereinen Ukrainer zur Umsetzung gemeinsamer Projekte und zur Unterst√ºtzung untereinander."
            ) }}
        </p>
    </section>

    <section class="content-block">
        <h2>{{ t(g, "–ù–∞—à—ñ —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ", "Unsere Werte") }}</h2>
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>üîç {{ t(g, "–ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å", "Transparenz") }}</h3>
                <p>{{ t(g, "–í—Å—ñ —Ä—ñ—à–µ–Ω–Ω—è —Ç–∞ —Ñ—ñ–Ω–∞–Ω—Å–∏ –≤—ñ–¥–∫—Ä–∏—Ç—ñ –¥–ª—è —É—á–∞—Å–Ω–∏–∫—ñ–≤", "Alle Entscheidungen und Finanzen sind f√ºr Mitglieder offen") }}</p>
            </div>
            <div class="dashboard-card">
                <h3>üó≥Ô∏è {{ t(g, "–î–µ–º–æ–∫—Ä–∞—Ç—ñ—è", "Demokratie") }}</h3>
                <p>{{ t(g, "–ö–æ–∂–µ–Ω —É—á–∞—Å–Ω–∏–∫ –º–∞—î –ø—Ä–∞–≤–æ –≥–æ–ª–æ—Å—É", "Jedes Mitglied hat Stimmrecht") }}</p>
            </div>
            <div class="dashboard-card">
                <h3>ü§ù {{ t(g, "–Ñ–¥–Ω—ñ—Å—Ç—å", "Einheit") }}</h3>
                <p>{{ t(g, "–ü—ñ–¥—Ç—Ä–∏–º—É—î–º–æ –æ–¥–∏–Ω –æ–¥–Ω–æ–≥–æ —Ç–∞ —Å–ø—ñ–ª—å–Ω—ñ –ø—Ä–æ—î–∫—Ç–∏", "Wir unterst√ºtzen einander und gemeinsame Projekte") }}</p>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Call to Action -->
    {% if not current_user.is_authenticated %}
    <section class="content-block" style="text-align: center; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; border-radius: 15px;">
        <h2 style="color: white;">{{ t(g, "–ì–æ—Ç–æ–≤—ñ –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è?", "Bereit beizutreten?") }}</h2>
        <p style="font-size: 1.1rem; margin: 1rem 0;">
            {{ t(g,
               "–°—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç–∏–Ω–æ—é –∞–∫—Ç–∏–≤–Ω–æ—ó —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ –≤ –ù—ñ–º–µ—á—á–∏–Ω—ñ",
               "Werden Sie Teil der aktiven ukrainischen Gemeinschaft in Deutschland"
            ) }}
        </p>
        <a href="{{ url_for('auth.register') }}" class="btn" style="background: white; color: var(--primary-color); font-weight: bold;">
            {{ t(g, "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑–∞—Ä–∞–∑", "Jetzt registrieren") }}
        </a>
    </section>
    {% endif %}
</div>

<style>
.lead {
    font-size: 1.2rem;
    line-height: 1.8;
    color: #555;
    margin: 1.5rem 0;
}

.info-content {
    font-size: 1.1rem;
    line-height: 1.7;
}

.gallery-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.8));
    color: white;
    padding: 2rem 1rem 1rem;
    font-size: 0.9rem;
}

.projects-preview {
    text-align: center;
}

.btn-outline-primary:hover {
    background: var(--primary-color);
    color: white;
}
</style>
{% endblock %}